.mp-layout {
    /* 컬럼 폭 변수 */
    --sidebar-w: 240px;
    --profile-w: 320px;

    /* 화면 전체를 사용 */
    width: 100vw;
    max-width: none;
    margin: 0;
    padding: 0;         /* 좌우 살짝 여백 */
    box-sizing: border-box;

    /* 부모의 중앙정렬 영향을 무력화(방어적 리셋) */
    justify-self: stretch;
    align-self: start;
    place-items: initial;
    justify-items: stretch;

    /* 3열 그리드 */
    display: grid;
    grid-template-columns: var(--sidebar-w) minmax(0, 1fr) var(--profile-w);
    grid-template-areas: "sidebar content profile";
    gap: 24px;

    align-items: start;
    min-height: 100vh;
    background: #F8F9FA; /* 배경 그레이 */
}

/* ▶ 우측 컬럼 제거용 2열 레이아웃 모드 */
.mp-layout.no-right {
    grid-template-columns: var(--sidebar-w) minmax(0, 1fr);
    grid-template-areas: "sidebar content";
}
.mp-layout.no-right .mp-profile { display: none; }

/* ===== 좌측 사이드바 ===== */
.mp-sidebar {
    grid-area: sidebar;
    background: #1A2E4D;   /* 딥 네이비 */
    color: #FFFFFF;
    display: flex;
    flex-direction: column;
    padding: 0 14px 18px;
    height: 100vh;
}

.mp-logo {
    font-weight: 800;
    letter-spacing: .5px;
    font-size: 22px;
    margin: 0 8px 0px;
    background: transparent;
    border: none;
    color: #FFFFFF;
    text-align: left;
    padding: 0;
    cursor: pointer;
}

.mp-logo img {
    height: 100px; /* ← 크기 줄이기 (필요 시 28px 정도도 깔끔) */
    width: auto;
    display: block;
}

.mp-nav { display: grid; gap: 6px; }

.mp-nav-item {
    text-align: left;
    padding: 10px 12px;
    border-radius: 10px;
    border: none;
    background: transparent;
    color: #FFFFFF;
    cursor: pointer;
}
.mp-nav-item:hover  { background: rgba(255,255,255,.12); }
.mp-nav-item.active { background: rgba(255,255,255,.22); font-weight: 600; }

.mp-sidebar-bottom { margin-top: auto; }

.mp-logout {
    width: 100%;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,.35);
    background: transparent;
    color: #FFFFFF;
    cursor: pointer;
}

/* ===== 가운데 콘텐츠 ===== */
.mp-content {
    grid-area: content;
    padding: 28px 0;
}

.mp-section-title {
    margin: 0 0 12px 0;
    padding: 0 8px;
    font-size: 18px;
    color: #212529; /* 텍스트 블랙 */
}

/* 상단 우측 액션 (내 정보 관리 / 로그아웃) */
.mp-content-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.mp-actions-right { display:flex; gap:8px; align-items:center; }

/* 상단 우측에 배치되는 로그아웃 버튼 오버라이드 */
.mp-actions-right .mp-logout {
    width: auto;
    padding: 8px 12px;
    border: 1px solid #cfd8e3;
    border-radius: 10px;
    background: #FFFFFF;
    color: #334155;
}

.mp-filters {
    display: flex;
    gap: 8px;
    padding: 0 8px 12px 8px;
}

.mp-input, .mp-select {
    border: 1px solid #d9dee5;
    border-radius: 10px;
    padding: 10px 12px;
    background: #FFFFFF;
}

/* 상담 카드 리스트 */
.mp-card-list {
    list-style: none;
    padding: 0 8px 28px 8px;
    margin: 0;
    display: grid;
    gap: 14px;
}

.mp-card {
    background: #FFFFFF;
    border-radius: 14px;
    box-shadow: 0 4px 16px rgba(16,24,40,.06);
    padding: 14px 16px;
    border: 1px solid #eef1f5;
}

.mp-card-head {
    display: flex;
    align-items: center;
    justify-content: flex-start; /* ← space-between 에서 변경 */
    margin-bottom: 6px;
}

.mp-card-meta { display: flex; gap: 10px; align-items: center; }
.mp-date { font-size: 12px; color: #adb5bd; } /* 라이트 그레이 */

.mp-risk {
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 999px;
    background: #eef6ff;
    color: #1e4db7;
    border: 1px solid #d7e7ff;
}
.mp-risk-high   { background:#ffe9e9; color:#c13232; border-color:#ffd1d1; }
.mp-risk-medium { background:#fff7e6; color:#9b6b00; border-color:#ffe9bf; }
.mp-risk-warn   { background:#f1f5ff; color:#4356b5; border-color:#e1e8ff; }
.mp-risk-low    { background:#e8faf0; color:#1f7a46; border-color:#c7f0d7; }

.mp-card-title {
    margin: 6px 0 2px 0;
    font-size: 16px;
    color: #212529; /* 텍스트 블랙 */
}
.mp-card-sub { font-size: 13px; color: #6c757d; } /* 미디엄 그레이 */

.mp-tags { margin-top: 8px; display: flex; gap: 6px; flex-wrap: wrap; }

.mp-tag {
    font-size: 12px;
    padding: 4px 8px;
    background: #f3f5f8;
    color: #516070;
    border: 1px solid #e6ebf2;
    border-radius: 999px;
}

.mp-card-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    margin-top: 10px;
}

/* ===== 우측 프로필 ===== */
.mp-profile {
    grid-area: profile;
    padding: 28px 14px 28px 0;
}

.mp-profile-card {
    position: sticky;
    top: 20px;
    background: #FFFFFF;
    border-radius: 14px;
    border: 1px solid #eef1f5;
    box-shadow: 0 4px 16px rgba(16,24,40,.06);
    padding: 16px;
}

.mp-avatar {
    width: 68px; height: 68px; border-radius: 50%;
    background: linear-gradient(145deg, #e7eef3, #f4f7fb);
    border: 1px solid #e2e8f0;
    margin-bottom: 12px;
}

.mp-user-name { font-weight: 700; color: #212529; }  /* 텍스트 블랙 */
.mp-user-sub  { font-size: 12px; color: #6c757d; }  /* 미디엄 그레이 */

.mp-quick {
    list-style: none;
    padding: 10px 0 0 0;
    margin: 0;
    display: grid;
    gap: 6px;
}

.link {
    background: transparent; border: none; color: #00AEEF; cursor: pointer; padding: 0; /* 선명한 파랑 */
}
.link-ghost {
    background: transparent; border: none; color: #26D0A9; cursor: pointer; font-size: 13px; /* 생동감 있는 초록 */
}

/* ===== 버튼 공통 ===== */
.btn-primary {
    border: none;
    background: #00AEEF;  /* 선명한 파랑 */
    color: #FFFFFF;
    padding: 10px 12px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
}
.btn-outline {
    border: 1px solid #cfd8e3;
    background: #FFFFFF;
    color: #334155;
    padding: 8px 12px;
    border-radius: 10px;
    cursor: pointer;
}
.btn-ghost {
    border: none;
    background: transparent;
    color: #00AEEF;  /* 선명한 파랑 */
    padding: 8px 10px;
    border-radius: 10px;
    cursor: pointer;
}

/* 모달 최소 스타일 */
.mp-modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,.35); display:flex; align-items:center; justify-content:center; z-index:50; }
.mp-modal {
    width:min(760px, 92vw);
    background:#FFFFFF;
    border-radius:12px;
    padding:16px 18px;
    box-shadow:0 10px 30px rgba(0,0,0,.18);

    /* 모달을 세로 플렉스 컨테이너로 */
    display:flex;              /* 추가 */
    flex-direction:column;     /* 추가 */
}
.mp-modal-head { display:flex; align-items:center; justify-content:space-between; }
.mp-modal-close { border:none; background:none; font-size:22px; line-height:1; cursor:pointer; }

/* 폼이 가운데 영역을 차지하도록 */
.mp-modal-form {
    display:flex;
    flex-direction:column;
    gap:14px;
    flex:1;                    /* 추가: 남는 높이를 차지 */
}

.mp-grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.mp-grid-3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; }
.mp-divider { border:none; border-top:1px solid #eee; margin:6px 0; }
.mp-subtitle { margin:0; font-size:14px; color:#333; }

/* 버튼 영역: 아래+오른쪽 정렬 */
.mp-modal-actions {
    display:flex;
    gap:8px;
    justify-content:flex-end;  /* 오른쪽 정렬 */
    margin-top:auto;           /* 아래로 밀착 */
    padding-top:8px;           /* 위쪽 여백 */
}

.hint { font-size:12px; color:#6c757d; margin-top:4px; }  /* 미디엄 그레이 */
.error { font-size:12px; color:#d32f2f; margin-top:4px; }

/* =========================
   Modal form polish
   ========================= */
.mp-modal-head h3 {
    margin: 0;
    font-size: 20px;
    font-weight: 800;
    color: #111827;
}
.mp-modal-close { color:#6b7280; }
.mp-modal-close:hover { color:#111827; }

/* 라벨/필드 공통 */
.mp-modal .field { display:flex; flex-direction:column; gap:6px; }
.mp-modal .field label {
    font-size: 14px;
    font-weight: 600;
    color: #111827;
}

/* 인풋 기본 스타일 */
.mp-modal .field input {
    height: 40px;
    padding: 10px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    background: #f9fafb;
    color: #111827;
    transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
    box-sizing: border-box;
}
.mp-modal .field input::placeholder { color:#6c757d; } /* 미디엄 그레이 */

/* 포커스 상태 */
.mp-modal .field input:focus {
    outline: 0;
    border-color: #00AEEF; /* 선명한 파랑 */
    box-shadow: 0 0 0 3px rgba(0,174,239,.35); /* 파랑 글로우 */
    background: #FFFFFF;
}

/* 읽기전용(아이디) */
.mp-modal .field input[readonly] {
    background: #f3f4f6;
    color: #6c757d; /* 미디엄 그레이 */
    cursor: not-allowed;
}

/* 도움말/에러 */
.mp-modal .hint  { margin-top: 6px; font-size: 12px; color: #6c757d; } /* 미디엄 그레이 */
.mp-modal .error { margin-top: 6px; font-size: 12px; color: #dc2626; }

/* 구분선/액션 영역 */
/* (위에서 .mp-modal-actions 에 padding-top 포함) */

/* 버튼(모달 안) 톤 맞춤 */
.mp-modal .btn-primary { background:#00AEEF; border:1px solid #00AEEF; }
.mp-modal .btn-primary:hover { filter: brightness(.95); }
.mp-modal .btn-ghost { color:#374151; }

/* 필수표시 색상(이미 html에 <span class="req">*</span> 있음) */
.req { color:#ef4444; }

/* 작은 화면: 1열 스택 */
@media (max-width: 640px) {
    .mp-modal .mp-grid-2,
    .mp-modal .mp-grid-3 { grid-template-columns: 1fr; }
}

/* =========================
   반응형
   ========================= */
@media (max-width: 900px) {
    .mp-layout {
        grid-template-columns: 200px 1fr;
        grid-template-areas: "sidebar content";
    }
    .mp-profile { display: none; }
}

@media (max-width: 720px) {
    .mp-layout {
        grid-template-columns: 1fr;
        grid-template-areas: "content";  /* 사이드바도 숨기고 한 컬럼로 */
        padding: 0 12px;
    }
    .mp-sidebar { display: none; }
}

/* 비밀번호 필드 감싸는 래퍼 */
.password-field-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

/* 래퍼 안의 input은 100% 너비 */
.password-field-wrapper input {
    width: 100%;
    /* 아이콘이 들어갈 공간을 위해 오른쪽 패딩 추가 */
    padding-right: 40px;
}

/* 비밀번호 표시/숨김 토글 버튼 (아이콘용) */
.password-toggle-btn {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 40px; /* 클릭 영역 확보 */

    /* 버튼 기본 스타일 리셋 */
    background: none;
    border: none;
    margin: 0;
    padding: 0;
    cursor: pointer;

    /* 아이콘 정렬 및 색상 */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #adb5bd; /* 아이콘 기본 색상 (라이트 그레이) */
}

.password-toggle-btn:hover {
    color: #495057; /* 마우스 올렸을 때 아이콘 색상 (진한 그레이) */
}